# 03. 如何重装系统
重装系统的基本流程与初次安装类似，但在重装时需要额外注意备份数据和保留现有分区的选择。以 Windows 11 为例。

---

## **1. 备份数据**
- **数据备份**：重装系统会清空或重新格式化系统盘，所以在操作前务必备份重要文件、文档、照片等数据到外部存储设备或云端。
- **配置备份**：记下你常用的软件、系统设置以及序列号等信息。

---

## 2. 准备安装介质（启动盘）
- **下载镜像**：前往微软官网或操作系统官方网站下载最新的系统 ISO 文件。
- **制作启动U盘**：使用工具（如 Rufus、Windows Media Creation Tool、balenaEtcher、ventoy 等）将 ISO 镜像写入 U 盘，制作成可启动的安装介质（启动盘）。  
  - 注意选择正确的分区方案（MBR 或 GPT）和启动模式（UEFI 或 Legacy），以符合你的硬件要求。

### 1. 什么是启动盘？

- 启动盘（Bootable Drive）是一个可启动的存储设备（通常是 U 盘或光盘），其中不仅存储有文件数据，还包含引导记录（bootloader）和必要的系统文件。计算机在开机时会读取启动盘中的引导信息，从而加载操作系统。
- 常用于安装或修复操作系统、运行 Live 系统（例如 Linux Live CD/USB）等。

---

### 2. 制作启动盘需要哪些准备？

- **硬件**：一个容量足够（通常至少 8GB）的 U 盘，注意制作过程中 U 盘数据会被**格式化**，提前备份数据。
- **软件**：  
  - **ISO 镜像文件**：比如 Windows 11、Kali Linux 或其他操作系统的 ISO 文件。  
  - **制作工具**：  
    - **在 Windows 下**：常用工具有 Rufus、balenaEtcher、UNetbootin 等。  
    - **在 Linux 下**：可使用 balenaEtcher 的 Linux 版本，或直接使用命令行工具如 `dd`。

---

### 3. Windows 环境下制作启动盘（以ventoy为例）

1. 下载并安装 ventoy
    - https://www.ventoy.net/cn/index.html

2. 选择U盘并点击安装，注意会提示格式化U盘

3. 选择 ISO 镜像文件
   - 找到下载好的 ISO 文件（例如 Kali Linux 的 ISO），拖入新盘里即可

---

### 4. Linux 环境下制作启动盘（使用 dd 命令）

1. **准备工作**  
   - 将 U 盘插入电脑，打开终端，使用 `lsblk` 或 `fdisk -l` 命令查看 U 盘的设备名（例如 `/dev/sdb`）。  
   - 注意：设备名一定要确认正确，否则可能会误格式化其他磁盘！

2. **使用 dd 命令写入 ISO 文件**  
   - 假设 ISO 文件路径为 `/home/user/your_iso_file.iso`，设备为 `/dev/sdb`（不要带分区号，如 `/dev/sdb1`）。
   - 执行以下命令：
     ```bash
     sudo dd if=/home/user/your_iso_file.iso of=/dev/sdb bs=4M status=progress oflag=sync
     ```
   - 参数说明：  
     - `if=` 指定输入文件，即 ISO 文件。  
     - `of=` 指定输出设备，即 U 盘。  
     - `bs=4M` 每次读取 4MB，提高效率。  
     - `status=progress` 显示进度。  
     - `oflag=sync` 确保所有数据写入完成。

3. **完成后**  
   - 写入完毕后，可安全弹出 U 盘。此时 U 盘就已成为一个启动盘。

---

### 5. 启动盘的原理与目的

- **引导记录**：制作工具会把 ISO 镜像中的引导加载程序写入 U 盘的启动扇区，使得当电脑从 U 盘启动时，BIOS/UEFI 能找到并执行这个引导程序。
- **文件系统与分区**：工具还会在 U 盘上建立合适的分区结构和文件系统（通常为 FAT32），确保 U 盘内容和启动信息按照 ISO 镜像完整复制出来。

---

### 6. 总结

- **ISO 文件与启动盘**：ISO 文件包含完整的光盘映像，而制作启动盘的过程就是将这一映像“写入”到 U 盘中，同时配置好启动记录和分区结构。
- **工具的作用**：直接复制 ISO 文件到 U 盘并不能让 U 盘启动，必须借助 Rufus、balenaEtcher 或 dd 等工具，完成引导记录的写入。
- **使用场景**：完成后，启动盘可以用来安装操作系统、修复系统或者直接以 Live 模式运行操作系统。

---

## **3. 进入 BIOS/UEFI 设置**
- **调整启动顺序**：重启电脑，在启动时进入 BIOS/UEFI（通常按 F2、Del 或 F12）设置，将 U 盘设置为首选启动设备。
- **关闭 Secure Boot**（如果需要）：有时安装某些系统可能需要暂时关闭安全启动。

---

## **4. 启动安装程序**
- **插入U盘**：确保启动U盘已连接，然后重启电脑。
- **从U盘启动**：电脑会读取 U 盘中的安装程序，进入系统安装界面。

---

## **5. 安装过程**
- **选择语言、时区和键盘布局**：按照安装向导的提示进行基本配置。
- **磁盘分区选择**：
  - 如果你想**全新安装**（覆盖原系统），可以选择格式化系统盘，这会清除原有系统和数据。
  - 如果希望保留现有的 Windows 系统（双启动）或只重装系统盘，选择“自定义安装”（Custom Installation）来手动管理分区。
- **安装步骤**：
  1. 选择要安装的分区（通常为 C 盘），点击格式化以清除原系统。
  2. 按照向导继续安装，系统会复制文件、安装组件并重启数次。

---

## **6. 系统配置**
- **初次设置**：安装完成后，系统会提示你设置用户账户、密码、隐私选项等。
- **安装驱动和更新**：进入系统后，建议连接网络，运行 Windows Update 更新驱动程序和系统补丁。
- **恢复数据**：将之前备份的数据恢复到系统中，并重新安装常用软件。

---

## **注意事项**
- **数据丢失风险**：确保所有重要数据都已经备份，因为重装系统通常会格式化目标分区。
- **驱动问题**：如果是全新安装，可能需要手动下载并安装部分硬件驱动程序（如显卡、网卡）。
- **分区管理**：在安装过程中小心操作分区，避免误操作导致非系统盘数据丢失。

---

从准备安装介质->修改 BIOS 启动顺序->启动安装程序->到选择合适的分区并完成安装