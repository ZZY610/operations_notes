# 18. 工具
## 1. 终端工具screen

screen是一个在Linux系统中常用的命令行“终端复用器”（terminal multiplexer），它允许用户在一个单一终端会话中管理多个虚拟终端窗口。常见的应用场景是**即使SSH远程连接中断也不影响程序运行**，随时可以重新接入。

| 目标           | 操作                           |
| ------------ | ---------------------------- |
| 新建无名会话       | `screen`                     |
| 新建命名会话       | `screen -S mc`               |
| 离开（detach）会话 | **Ctrl-a** 然后 **d**          |
| 查看所有会话       | `screen -ls`                 |
| 恢复会话         | `screen -r` 或 `screen -r mc` |
| 强制抢占会话       | `screen -D -r mc`            |
| 会话内开新窗口      | **Ctrl-a** **c**             |
| 切换下一个窗口      | **Ctrl-a** **n**             |
| 切换上一个窗口      | **Ctrl-a** **p**             |
| 杀当前窗口        | **Ctrl-a** **k**             |
| 杀目标窗口会话 | screen -S mc -X quit |


### 1.1 创建一个新的screen会话并命名
```
screen -S <name>
```

### 1.2 control + a +d ：分离（detach）当前的screen会话，即从当前终端会话中断开连接，同时继续在后台运行。
```
screen -d <name>
# 断开（卸载）指定的screen会话，但不会杀死会话中的任务
```

### 1.3 重新连接到指定会话
screen -r <name>

### 1.4 查看当前所有的screen会话
screen -ls

### 1.5 自动清除所有死去的screen会话
screen -wipe

### 1.6 出现There is no screen to be resumed 
```bash
matching 16447
# 这种情况下
screen  -d  16447
# 然后继续screen -r 16447
```

### 1.7 kill掉一个screen会话

```
screen -S -X  <name> quit
```

### 1.8 关闭screen的会话
```
exit 
# 会提示：[screen is terminating]，表示已经成功退出screen会话
```

### 1.9 常用快捷键
Ctrl+a c ：在当前screen会话中创建窗口
Ctrl+a w ：窗口列表
Ctrl+a n ：下一个窗口
Ctrl+a p ：上一个窗口
Ctrl+a 0-9 ：在第0个窗口和第9个窗口之间切换

## 磁盘管理
在CentOS系统上，有一些能够替代`du`命令进行磁盘空间管理的工具，其中一些常见的包括：

1. **ncdu**：`ncdu`是一个基于ncurses库的磁盘使用情况分析工具。它提供直观的终端用户界面，可以方便地查看磁盘上的目录和文件的大小。

   安装命令：
   ```bash
   sudo yum install ncdu
   ```

   使用：
   ```bash
   ncdu
   ```

2. **dust**：`dust`是一个更简单、更直观的磁盘空间使用情况查看工具。它会以图形的方式显示目录大小。

   安装命令：
   ```bash
   cargo install du-dust
   ```

   使用：
   ```bash
   dust
   ```

3. **gdmap**：`gdmap`是一个图形化磁盘空间使用情况分析工具，通过矩形块的方式直观地展示磁盘上各个目录的大小。

   安装命令：
   ```bash
   sudo yum install gdmap
   ```

   使用：
   ```bash
   gdmap
   ```
