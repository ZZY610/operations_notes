# 01
## jvm，jre，jdk

* **JVM**（Java Virtual Machine，==Java虚拟机==）是Java的核心，它是Java平台的运行环境，提供了Java程序运行的必要支持。它是Java应用程序的运行引擎，负责解释Java字节码，使Java程序能够跨平台运行。

* **JRE**（Java Runtime Environment，==Java运行时环境==）是Java应用程序的运行时环境，包括Java虚拟机、Java类库和其他必要的支持文件。JRE是运行Java程序所必须的环境，没有JRE，无法运行Java程序。

* **JDK**（Java Development Kit，==Java开发工具包==）包括JRE和开发工具，是Java应用程序开发的必备工具。它包含了编译器、调试器、文档生成器等开发工具，还包含了JRE和Java类库。开发人员需要JDK才能编写、编译和运行Java应用程序。

因此，可以将它们的关系简单总结为：JDK包含JRE，而JRE包含JVM。

## java数据类型的分类
数据类型
* 基本数据类型
    * 布尔类型
    * 字符型
    * 数值类型
        * 定点类型
            * 字节型
            * 短整型
            * 整型
            * 长整型
        * 浮点类型
            * 单精度
            * 双精度
* 引用数据类型 
    * 数组
    * 接口
    * 类


```java
public class Test {
    public static void main(String[] args) {
        String s1="helloworld";
        String s2="hello";
        String s3="world";
        String s4="hello"+"world";
        String s5=s2+s3;
        System.out.println(s1==s4);
        System.out.println(s1==s5);
    }
}
```


## JAVA代码执行全过程
Java代码执行全过程可以分为以下几个阶段：

1.  编写源代码：程序员编写Java代码，将其保存为扩展名为"`.java`"的源文件。
    
2.  编译：使用Java编译器（javac）将源代码编译成==字节码==文件。字节码文件是一种与平台无关的中间表示形式，其扩展名为"`.class`"。
    
    ```
    javac HelloWorld.java
    ```
    
    上述命令将源代码文件"HelloWorld.java"编译成字节码文件"HelloWorld.class"。
    
3.  加载：在运行Java程序时，Java虚拟机（JVM）会将字节码文件加载到内存中。这个过程包括：
    
    *   类加载器（Class Loader）读取字节码文件并将其加载到内存中。
    *   验证器（Bytecode Verifier）对加载到内存中的字节码进行验证，确保其不会对JVM造成损害。
    *   解析器将字节码中的符号引用解析为直接引用。
4.  执行：一旦字节码被加载到内存中，JVM就会开始执行它。JVM会找到程序的入口点，通常是包含"public static void main(String\[\] args)"方法的类，然后开始执行字节码指令。
    
    在执行过程中，JVM会将所需的类按需加载到内存中。这包括Java核心库中的类以及程序员编写的自定义类。
    
    ```Java
    java HelloWorld
    ```
    
    上述命令将在JVM中执行"HelloWorld.class"字节码文件。
    
5.  优化：JVM包含一个即时编译器（Just-In-Time Compiler，JIT），它会在运行时将热点代码（经常执行的部分）编译成本地机器代码，以提高程序的执行效率。这个过程称为即时编译（JIT Compilation）。
    
6.  垃圾回收：Java程序在运行过程中，JVM负责管理内存。当程序不再需要某些内存资源时，垃圾回收器（Garbage Collector）会自动回收不再使用的内存，以防止内存泄漏。
    
7.  退出：当程序执行完成或遇到System.exit()调用时，JVM会释放所有资源并退出。
    

总结：Java代码执行全过程包括编写源代码、编译成字节码、加载到JVM、执行字节码、优化、垃圾回收和退出等阶段。在整个过程中，JVM扮演了核心角色，负责管理内存、执行字节码和优化程序性能。
## 栈空间和堆空间
当程序运行时，操作系统会为程序分配一块内存空间，用于存储程序的代码、数据和运行时的栈和堆等。下面我们来详细介绍一下栈空间和堆空间的作用：

### 栈空间
栈空间是一种连续的内存区域，用于存储程序的局部变量、函数参数和函数调用的上下文信息等。栈空间的大小通常是固定的，由编译器在编译时确定。
* 在函数调用过程中，参数和局部变量会被分配在栈空间中。
* 当函数调用结束时，这些数据也会自动从栈空间中弹出，因此栈空间的生命周期是自动管理的。
当程序调用函数时，会在栈空间中为函数的参数和局部变量分配内存。当函数执行完毕时，会将这些数据从栈空间中弹出，以释放栈空间中的内存。由于栈空间的内存是连续的，因此栈空间的分配和释放是非常快速的。

### 堆空间
堆空间是一种动态分配的内存区域，用于存储程序中动态分配的内存，例如使用new、malloc等函数动态分配的内存。堆空间的分配和释放需要显式地调用相应的函数进行操作。

堆空间的生命周期不像栈空间那样自动管理。程序需要手动分配和释放堆空间中的内存，否则会导致内存泄漏。堆空间的大小通常是不固定的，由程序在运行时动态分配和释放。

由于堆空间的内存是非连续的，因此堆空间的分配和释放比栈空间要慢。同时，由于堆空间的分配和释放是由程序员手动管理的，因此堆空间的使用容易出现错误，例如内存泄漏和越界访问等问题。

综上所述，栈空间和堆空间在程序运行过程中扮演着不同的角色：栈空间用于管理程序调用过程中的数据和程序控制流程，堆空间用于动态分配内存，允许程序在运行时进行灵活的内存管理。

## 数据类型
Java 数据类型分为两大类：基本数据类型（Primitive Data Types）和引用数据类型（Reference Data Types）。

### 基本数据类型
基本数据类型（Primitive Data Types）： 基本数据类型包括以下几种：

*   byte：8位有符号整数
*   short：16位有符号整数
*   int：32位有符号整数
*   long：64位有符号整数
*   float：32位单精度浮点数
*   double：64位双精度浮点数
*   char：16位Unicode字符
*   boolean：布尔值（true 或 false）

基本数据类型直接存储数值，占用的内存空间是固定的。它们不是对象，不能调用方法。当你在程序中声明一个基本数据类型的变量时，系统会自动为该变量分配内存空间，并将默认值赋给它。
### 引用数据类型
引用数据类型（Reference Data Types）： 引用数据类型包括以下几种：

*   类（Class）
*   接口（Interface）
*   数组（Array）

引用数据类型变量存储的是对象的引用（或称为指针），而不是对象本身。当你声明一个引用数据类型变量时，它的默认值是 null，表示它不指向任何对象。实际的对象需要通过 new 关键字创建，分配内存空间，并初始化。引用数据类型变量可以调用对象的方法和访问对象的属性。

::: tip  引用数据类型和基本数据类型的区别：
1.  存储内容不同：基本数据类型直接存储数值，而引用数据类型存储的是对象的引用（指针）。
2.  内存分配方式不同：基本数据类型的变量在栈（Stack）中分配内存，引用数据类型的对象在堆（Heap）中分配内存。引用数据类型的变量在栈中存储对象的引用，而对象的实际内容存储在堆中。
3.  默认值不同：基本数据类型变量有默认值（例如 int 的默认值是 0），而引用数据类型变量的默认值是 null，表示不指向任何对象。
4.  表现形式不同：基本数据类型不是对象，不能调用方法。引用数据类型是对象，可以调用对象的方法和访问对象的属性。

在 Java 中，String 类型是一种特殊的引用数据类型，虽然它的表现形式与基本数据类型相似，但实际上它是一个不可变的字符序列，使用时需要注意与基本数据类型的区别。
:::
在Java中，所有类都是引用类型，这意味着当我们声明一个类时，我们实际上是在创建一个引用，而不是一个对象本身。这个引用指向一个在堆内存中实际分配的对象。

当我们使用new关键字创建一个类的新实例时，实际上是在堆内存中分配了一个新的对象，并返回一个引用。我们可以将这个引用存储在变量中，或者将其传递给方法，以便在代码中使用该对象。

引用类型的好处是可以实现对象共享和对象的动态创建。如果我们在多个变量中存储同一个对象的引用，那么这些变量都可以访问该对象的状态。如果我们需要创建多个对象，则可以通过创建多个引用来实现这一点，这些引用可以指向在运行时动态创建的不同对象。

需要注意的是，Java中的基本类型（如int、double、boolean等）不是引用类型。它们的值直接存储在变量中，而不是在堆内存中动态分配对象。

