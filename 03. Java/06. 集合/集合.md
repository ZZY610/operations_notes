# 集合
## 1. 概念
Java集合（Collection）是一种数据结构，用于存储和操作一组==对象==（不装基本数据类型）。

Java集合框架提供了一系列接口和实现类，用于处理不同类型的集合。

集合框架的基本接口主要包括以下几种：

1.  ==Collection==接口：这是所有集合类型的根接口，它定义了适用于所有集合的通用方法，如添加、删除、遍历等。Collection接口有三个主要子接口：
    
    *   ==List==：一个有序的集合，可以包含重复的元素。
        * 实现类：==ArrayList==、==LinkedList==、Vector等。
    *   ==Set==：一个不包含重复元素的无序集合。
        * 实现类：HashSet、LinkedHashSet、TreeSet等。
    *   ==Queue==：一个按照特定规则排序的元素队列。
        * 实现类：LinkedList、PriorityQueue等。
2.  ==Map==接口：一个存储键值对（key-value pairs）的集合，键是唯一的，值可以重复。Map接口的实现类包括HashMap、LinkedHashMap、TreeMap等。
    
### 例子

1.  List：创建、添加元素、遍历

```java
import java.util.ArrayList;
import java.util.List;

public class Main {
    public static void main(String[] args) {
        List<String> list = new ArrayList<>();
        list.add("Apple");
        list.add("Banana");
        list.add("Orange");

        for (String item : list) {
            System.out.println(item);
        }
    }
}
```

2.  Set：创建、添加元素、遍历

```java
import java.util.HashSet;
import java.util.Set;

public class Main {
    public static void main(String[] args) {
        Set<String> set = new HashSet<>();
        set.add("Apple");
        set.add("Banana");
        set.add("Orange");

        for (String item : set) {
            System.out.println(item);
        }
    }
}
```

3.  Map：创建、添加键值对、遍历

```java
import java.util.HashMap;
import java.util.Map;

public class Main {
    public static void main(String[] args) {
        Map<String, Integer> map = new HashMap<>();
        map.put("Apple", 5);
        map.put("Banana", 3);
        map.put("Orange", 2);

        for (Map.Entry<String, Integer> entry : map.entrySet()) {
            System.out.println(entry.getKey() + ": " + entry.getValue());
        }
    }
}
```
## List接口

ArrayList、Vector底层是数组
ArrayList线程不同步，效率高
Vector线程同步，效率低

LinkedList底层是链表

### 1. ArrayList
Java ArrayList是一个动态数组，它可以根据需要自动调整大小。ArrayList是Java集合框架的一部分，实现了List接口。

ArryList的扩容原理：
ArrList底层是数组,当数组存满之后,会新创建一个数组，长度是原数组的1.5倍,然后将旧数组的每个值依次拷贝到新数组中,再把需要插入的值存入新数组剩余的格子中,完成扩容。


常用方法：

#### 1.  添加元素：
    
*   `boolean add(E e)`：将指定元素添加到列表的末尾，返回值表示添加是否成功。
*   `void add(int index, E e)`：add方法重载，将指定元素插入到列表的指定位置，后面的元素向后移动。
#### 2.  获取元素：
    
*   `E get(int index)`：返回列表中指定位置的元素。
#### 3.  更新元素：
    
*   `E set(int index, E e)`：用指定元素替换列表中指定位置的元素，返回原先的元素。
#### 4.  移除元素：
    
*   `E remove(int index)`：移除列表中指定位置的元素，返回被移除的元素。
*   `boolean remove(Object o)`：移除列表中首次出现的指定元素（如果存在），返回值表示是否成功移除。
#### 5.  查询元素：

*   `int indexOf(Object o)`：返回列表中首次出现指定元素的索引，如果没有找到则返回-1。
*   `int lastIndexOf(Object o)`：返回列表中最后一次出现指定元素的索引，如果没有找到则返回-1。
*   `boolean contains(Object o)`：检查列表中是否包含指定元素，返回值表示是否包含。
#### 6.  获取大小：
    
*   `int size()`：返回列表中的元素数量。
*   `boolean isEmpty()`：检查列表是否为空，返回值表示是否为空。
#### 7.  清空列表：
    
*   `void clear()`：移除列表中所有的元素。
#### 8.  转换为数组：

*   `Object[] toArray()`：返回包含列表中所有元素的数组。
*   `<T> T[] toArray(T[] a)`：返回包含列表中所有元素的数组，使用指定的数组类型。
#### 9.  遍历列表：

*   使用`for`循环，`for-each`循环，或者`Iterator`遍历列表中的元素。

```java
import java.util.ArrayList;

public class Main {
    public static void main(String[] args) {
        ArrayList<String> list = new ArrayList<>();

        // 添加元素
        list.add("Apple");
        list.add("Banana");
        list.add("Cherry");

        // 获取元素
        System.out.println(list.get(1)); // 输出：Banana

        // 更新元素
        list.set(1, "Blueberry");
        System.out.println(list.get(1)); // 输出：Blueberry

        // 移除元素
        list.remove("Blueberry");
        System.out.println(list.contains("Blueberry")); // 输出：false

        // 获取大小
        System.out.println(list.size()); // 输出：2

        // 遍历列表
        for (String item : list) {
            System.out.println(item);
        }
    }
}
```

##### 迭代器遍历
集合类支持foreach循环，底层是迭代器iterator。

在Java中，迭代器（Iterator）是一种设计模式，用于遍历容器（如集合）中的元素。迭代器提供了一种统一的访问容器元素的方式，而无需关心容器的具体实现。Java迭代器主要通过`java.util.Iterator`接口实现。

`java.util.Iterator`接口有以下方法：

1.  `boolean hasNext()`: 如果容器中还有元素，则返回`true`。
2.  `E next()`: 返回容器中的下一个元素。
3.  `void remove()`: 从容器中移除最近访问的元素（可选操作）。

Java集合框架（Collection Framework）中的许多容器类（如`java.util.List`，`java.util.Set`等）都实现了`java.lang.Iterable`接口。

`Iterable`接口定义了一个名为`iterator()`的方法，该方法返回一个`Iterator`对象，用于遍历容器中的元素。

集合类和迭代器之间的关系是：集合类实现了`Iterable`接口，因此可以提供一个迭代器对象，用于遍历其元素。

Java的`for-each`循环（也称为增强`for`循环）是基于迭代器的语法糖。当使用`for-each`循环遍历集合时，实际上是在底层使用迭代器遍历集合元素。

以下是一个示例，展示如何使用迭代器和`for-each`循环遍历`List`：

```java
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class IteratorExample {
    public static void main(String[] args) {
        List<String> names = new ArrayList<>();
        names.add("Alice");
        names.add("Bob");
        names.add("Charlie");

        // 使用迭代器遍历集合
        Iterator<String> iterator = names.iterator();
        while (iterator.hasNext()) {
            String name = iterator.next();
            System.out.println(name);
        }

        // 使用for-each循环遍历集合
        for (String name : names) {
            System.out.println(name);
        }
    }
}
```

在这个示例中，我们创建了一个包含三个字符串元素的`ArrayList`。我们首先使用迭代器遍历集合元素并输出，然后使用`for-each`循环实现相同的功能。注意`for-each`循环使代码更简洁，因为它自动处理迭代器。

### 2. Vector
在创建vector对象的时候，可以指定扩容量，每次就按照扩容量扩容，若没有指定扩容量，就按照底层数组长度翻倍来扩容。

##  Set
HashSet TreeSet

## Map 

在Java中，Map是一种基于键值对的数据结构，可以用来存储一组关联的对象。每个键都是唯一的，而值则可以是任何类型的对象。

常用的Map实现类有HashMap、TreeMap、LinkedHashMap等。其中，HashMap是最常用的实现类，它基于哈希表实现，具有快速的查找和插入速度；TreeMap是基于红黑树实现，具有自动排序的功能；LinkedHashMap则是在HashMap的基础上添加了链表来记录插入顺序或者访问顺序。

Map集合提供了一系列方法，用来操作键值对。常见的方法有：

1.  put(key, value)：将指定的键值对存储到Map中，如果键已经存在，则会覆盖对应的值。
    
2.  get(key)：返回指定键对应的值，如果键不存在，则返回null。
    
3.  containsKey(key)：判断Map中是否包含指定的键。
    
4.  containsValue(value)：判断Map中是否包含指定的值。

5.  remove(key)：从Map中删除指定键值对。
    
6.  keySet()：返回Map中所有键的Set视图。
    
7.  values()：返回Map中所有值的Collection视图。
    
8.  entrySet()：返回Map中所有键值对的Set视图。
    

Map集合的使用可以大大简化程序的开发，尤其是在需要对一组相关的对象进行处理时，可以用键值对的方式将它们组织起来。

HashMap 和 Hashtable的区别：
HashMap线程不同步，效率高；Hashtable线程同步，效率低。
HashMap可以使用null作为键，Hashtable不可以。

collections和collection的区别
collections是collection的帮助类，提供各种静态方法供集合类调用