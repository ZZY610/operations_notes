# 06. BIOS
下面详细介绍 BIOS 相关内容，涵盖其定义、编写方法、查看方式以及现代电脑使用情况：

---

## 1. 什么是 BIOS？

- **定义**  
  BIOS（Basic Input/Output System，基本输入输出系统）是一种固件，它嵌入在主板上的只读存储器中。BIOS 的主要作用是在电脑通电后，完成硬件自检（POST，Power-On Self-Test），初始化硬件设备，并寻找启动设备中的操作系统启动程序（Bootloader）。

- **核心功能**  
  - **硬件初始化与检测**：在启动时对 CPU、内存、显卡、键盘等设备进行检查，确保它们正常工作。  
  - **加载引导程序**：读取硬盘、光驱或 USB 等设备的第一个扇区（例如 MBR）中的引导代码，启动操作系统。  
  - **提供低级接口**：为操作系统提供一些基本的硬件访问接口，如键盘输入、显示输出等。

---

## 2. 如何编写 BIOS？

- **复杂性与挑战**  
  编写一个完整的 BIOS 从零开始非常复杂，因为它需要直接与硬件交互，并且需要在没有操作系统支持的环境下工作。大多数主板厂商提供的 BIOS 是经过多年优化和测试的闭源固件。

- **开源项目**  
  如果你对编写固件感兴趣，可以关注以下开源项目：
  - **Coreboot**：一个开源的固件项目，旨在取代传统 BIOS。它支持多种硬件平台，提供更快的启动速度和更高的安全性。  
  - **Libreboot**：基于 Coreboot 的分支，去除了闭源二进制部分，更加开放自由。
  
  这些项目的代码可以作为学习的参考，但修改和适配到特定硬件仍需要深厚的硬件和固件开发知识。

- **编写思路**  
  编写一个简单的 BIOS（或者更准确地说是固件）的基本步骤包括：
  1. **硬件初始化**：设置 CPU、内存、串口、显卡等的初始状态。  
  2. **执行自检（POST）**：检查主要硬件设备是否正常。  
  3. **加载引导程序**：从启动设备（通常是硬盘或 USB）读取引导扇区，并将控制权移交给操作系统启动代码。  
  4. **提供接口**：可能还需要提供简单的设置界面（BIOS Setup）以供用户配置系统参数。

  实际上，自己编写一个完整的 BIOS 超出了大部分个人开发者的范围，一般用于学术研究或极客爱好者的实验项目。

---

## 3. 如何查看电脑的 BIOS？

- **进入 BIOS 设置界面**  
  启动电脑时通常会显示提示信息，例如“Press F2 to enter Setup”或“Press DEL to enter BIOS”。根据提示按下相应的按键即可进入 BIOS 设置界面，查看 BIOS 版本、启动顺序、硬件信息等。

- **在操作系统中查看**  
  - **在 Windows 上**：  
    打开“系统信息”（输入 `msinfo32`），在“系统摘要”中可以看到 BIOS 版本和日期。  
  - **在 Linux 上**：  
    使用命令 `sudo dmidecode -t bios` 查看 BIOS 相关信息。
  
- **固件更新工具**  
  一些主板厂商会提供专门的工具或 BIOS 更新程序，通过这些工具也可以查看当前 BIOS 版本。

---

## 4. 现代电脑是否还使用 BIOS？

- **传统 BIOS 与 UEFI**  
  现代电脑大多已经转向使用 UEFI（Unified Extensible Firmware Interface，统一可扩展固件接口）：
  - **UEFI 的优势**：  
    - 支持更大的硬盘（超过 2TB）  
    - 启动速度更快  
    - 提供图形化设置界面  
    - 更强的安全性（如安全启动）  
  - **兼容模式**：  
    许多 UEFI 固件仍保留“Legacy BIOS 模式”，允许操作系统和软件以传统 BIOS 方式启动，保证兼容性。
  
- **总结**  
  虽然很多文档和教程中仍提到“BIOS”，但实际上现代 PC 的固件大多数是基于 UEFI 的。你可以在 UEFI 设置界面中看到“Legacy Boot”选项，说明固件兼容传统 BIOS 模式，但核心部分已经是 UEFI 了。

---

这就是关于 BIOS 的详细介绍，包括它的定义、编写难度、查看方法以及现代电脑中 BIOS 与 UEFI 的关系。如果你对固件开发或者开源项目（如 Coreboot）有兴趣，可以进一步阅读相关文档和源码，深入了解底层硬件交互的细节。